### Playbook to validate SNMPProxy get serial number
- block:
  - name: validate SN from CLI (arista, mellanox, dells6100)
    shell: "decode-syseeprom -s"
    register: sh_serial
    become: yes
    ignore_errors: yes

  - set_fact:
      sn: "{{ sh_serial.stdout.replace('\u0000', '', 20) }}"
    when: "sh_serial.stdout != ''"

  - debug: var=sn

  - assert: { that: "rt_value['Value'] == sn" }
  when: "'on' not in inventory_hostname "

- debug: msg="no validation of serial for S6000 Onie"
